version: 1

indices:
  pages:
    source: html
    fetch: true
    target: /query/pages.json

    include:
      - /**
    exclude:
      - /nav
      - /header
      - /footer
      - /fragments/**
      - /docs/**

    properties:
      path:
        select: path
      title:
        select: head > title
        value: text(el)
      description:
        select: head > meta[name="description"]
        value: attribute(el, "content")
      image:
        select: head > meta[property="og:image"]
        value: attribute(el, "content")
